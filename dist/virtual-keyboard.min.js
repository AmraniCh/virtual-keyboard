var Keyboard=function(e){e&&"object"!=typeof e&&console.error("Keybaord accept an object of supprted keybaord options.");var t={fr:[[1,2,3,4,5,6,7,8,9,0,"x8"],["q","w","e","r","t","y","u","i","o","p","^","$","*"],["x20","a","s","d","f","g","h","j","k","l","m","x13"],["xdone","z","x","c","v","b","n",",",";",":","!"],["xlang","x32"]],ar:[[1,2,3,4,5,6,7,8,9,0,"x8"],["ض","ص","ث","ق","ف","غ","ع","ه","خ","ح"],["x20","ش","س","ي","ب","ل","ا","ت","ن","م","x13"],["xdone","ئ","ء","ؤ","ر","لا","ى","ة",",",".","?"],["xlang","x32"]]},l=Object.keys(t),u=["ar"],p={lang:"fr",charsOnly:!1,caps:!1},y={container:null,keysContainer:null,keyboardInput:null,clientInput:null};e.lang&&-1===l.indexOf(e.lang)&&console.error(lang+" language is not supported!"),Object.assign(p,e);var b=function(e){if(!(this instanceof b))return new b(e);var a,t;if(this.length=0,"string"==typeof e&&(a=this,t=document.querySelectorAll(e),this.length=t.length,t.forEach(function(e,t){a[t]=e})),(e instanceof Node||e===window)&&(this[0]=e),e.constructor&&"Array"===e.constructor.name)for(var n=e,o=n.length-1;0<=o;)this[o]=n[o],this.length++,o--;b.prototype.length=0,b.prototype.addClass=function(e){var t=this;return e.split(" ").forEach(function(e){t[0].classList.add(e)}),this},b.prototype.removeClass=function(e){var t=this;return e.split(" ").forEach(function(e){t[0].classList.remove(e)}),this},b.prototype.toggle=function(e){return this[0].classList.toggle(e)},b.prototype.contains=function(e){return this[0].classList.contains(e)},b.prototype.appendTo=function(e){return document.querySelector(e).appendChild(this[0]),this},b.prototype.get=function(e){return this[0]},b.prototype.setAttribute=function(e,t){return this[0].setAttribute(e,t),this},b.prototype.text=function(e){return this[0].textContent=e,this},b.prototype.on=function(e,t){return this[0].addEventListener(e,t),this},b.prototype.splice=Array.prototype.splice,b.prototype.each=Array.prototype.forEach};function a(e){var d=e.charsOnly,c=e.caps,s=(y.container=b.create("div").addClass("keyboard keyboard--hidden").appendTo("body").get(0),y.keysContainer=b.create("div").addClass("keyboard__keys").appendTo(".keyboard").get(0)),e=y.keyboardInput=b.create("input").addClass("keyboard__input").get(0);s.insertBefore(e,s.firstElementChild),b.create("br").appendTo(".keyboard__keys"),k(p.lang,function(e){if(f(e))switch(e){case"x8":var t=b.create("button").addClass("keyboard__key keyboard__key--wide").setAttribute("type","button").get(0),a=b.create("i").addClass("icon material-icons").text("backspace").get(0);t.appendChild(a),s.appendChild(t),b(t).on("click",function(){y.keyboardInput.value=y.keyboardInput.value.slice(0,-1),y.clientInput.value=y.clientInput.value.slice(0,-1)});break;case"x20":t=b.create("button").addClass("keyboard__key keyboard__key--wide keyboard__key--activatable").setAttribute("type","button").get(0),a=b.create("i").addClass("icon material-icons").text("keyboard_capslock").get(0);t.appendChild(a),s.appendChild(t),c&&(b(t).addClass("keyboard__key--active"),h()),b(t).on("click",function(){p.caps=!p.caps,this.classList.toggle("keyboard__key--active"),h()});break;case"x13":t=b.create("button").addClass("keyboard__key keyboard__key--wide").setAttribute("type","button").get(0),a=b.create("i").addClass("icon material-icons").text("keyboard_return").get(0);t.appendChild(a),s.appendChild(t);break;case"xdone":t=b.create("button").addClass("keyboard__key keyboard__key--wide keyboard__key--dark").setAttribute("type","button").get(0),a=b.create("i").addClass("icon material-icons").text("check_circle").get(0);t.appendChild(a),s.appendChild(t),b(t).on("click",g);break;case"xlang":t=b.create("button").addClass("keyboard__key keyboard__key--wide keyboard__key--dark keyboard__langauge__dropdown").setAttribute("type","button").get(0),a=b.create("i").addClass("icon material-icons").text("language").get(0);t.appendChild(a),s.appendChild(t);for(var n=b.create("ul").addClass("languages__list").get(0),o=[],r=0;r<l.length;r++){var i=l[r],i=b.create("li").addClass("language__item").setAttribute("data-lang",i).text(i).get(0);n.appendChild(i),o.push(i)}t.appendChild(n),b(t).on("click",function(){b(n).toggle("show")}),b(o).each(function(e){b(e).on("click",function(e){e.stopPropagation(),function(e){if(-1===l.indexOf(e))return;var t=b(".keyboard__key:not(.keyboard__key--wide):not(.keyboard__key--extra-wide)"),a=0;k(e,function(e){!f(e)&&t[a]&&(b(t[a]).text(e+""),a++)}),p.lang=e}(this.dataset.lang),b(n).removeClass("show")})});break;case"x32":t=b.create("button").addClass("keyboard__key keyboard__key--extra-wide").setAttribute("type","button").get(0),a=b.create("i").addClass("icon material-icons").text("space_bar").get(0);t.appendChild(a),s.appendChild(t),b(t).on("click",function(){y.keyboardInput.value+=" "})}else{if(!0===d&&"number"==typeof e)return;t=b.create("button").addClass("keyboard__key").setAttribute("type","button").text(e).get(0);s.appendChild(t),b(t).on("click",function(){b(y.keyboardInput).setAttribute("dir",-1!==u.indexOf(p.lang)?"rtl":"ltr"),y.keyboardInput.value+=t.textContent,y.clientInput.value+=t.textContent})}arguments[arguments.length-1]&&s.appendChild(document.createElement("br"))})}function k(e,r){b(t[e]).each(function(n,o){b(n).each(function(e,t){var a=t===n.length-1;r.apply(this,[e,o,t,a])})})}function h(){b("button.keyboard__key").each(function(e){0===e.childElementCount&&(!0===p.caps?e.textContent=e.textContent.toUpperCase():e.textContent=e.textContent.toLowerCase())})}function g(){y.clientInput.value=y.keyboardInput.value,b(y.container).addClass("keyboard--hidden")}function f(e){return"number"!=typeof e&&null!==e.match(/x\w+/)}function n(){b("input:not(.keyboard__input), textarea").each(function(e){b(e).on("focus",function(e){var t=e.target;t.readOnly||(b(y.container).removeClass("keyboard--hidden"),y.clientInput=t,e={placeholder:t.placeholder,value:t.value},y.keyboardInput.placeholder=e.placeholder,y.keyboardInput.value=e.value,b(t).on("input",function(){y.keyboardInput.value=this.value}))})}),b(window).on("click",function(e){b(y.container).contains("keyboard--hidden")||e.target!==y.keyboardInput&&-1===["input","textarea"].indexOf(e.target.tagName.toLowerCase())&&e.target.closest(".keyboard")!==y.container&&(b(y.container).addClass("keyboard--hidden"),b(".languages__list").removeClass("show"),g())}),b(y.keyboardInput).on("input",function(){y.clientInput.value=this.value})}return b.create=function(e){e=document.createElement(e);return b(e)},{init:function(){a({charsOnly:p.charsOnly,caps:p.caps}),p.caps&&h(),n()}}};